<!--pages/todoList/todoList.wxml-->

<block class="main">
  <block class="todos" wx:for="{{todos}}" wx:key="id">
    <view mark:idx="{{index}}" mark:id="{{item.id}}" class="todo {{stats[index].animB}}" bind:touchstart="handleTodoClick" bind:touchend="handleTodoClickOver"><text>{{item.content}}</text>
      <view class="todo-ops {{stats[index].animC}} {{stats[index].selected}}">
        <view class="modify-btn todo-op {{stats[index].animD === 'modify' ? 'animD' : ''}}" mark:op="modify" bind:tap="handleTodoOp" bind:touchstart="handleTodoOpClick" bind:touchend="handleTodoOpClickOver">
          <text>✏️</text>
        </view>
        <view class="remove-btn todo-op {{stats[index].animD === 'remove' ? 'animD' : ''}}" mark:op="remove" bind:tap="handleTodoOp" bind:touchstart="handleTodoOpClick" bind:touchend="handleTodoOpClickOver">
          <text>🗑️</text>
        </view>
        <view class="done-btn todo-op {{stats[index].animD === 'done' ? 'animD' : ''}}" mark:op="done" bind:tap="handleTodoOp" bind:touchstart="handleTodoOpClick" bind:touchend="handleTodoOpClickOver">
          <text>✓</text>
        </view>
      </view>
    </view>
  </block>
</block>
<mp-tabbar reactive="{{false}}" ext-class="tabbar" style="position:fixed;bottom:0;width:100%;left:0;right:0;" list="{{list}}" bindchange="tabChange"></mp-tabbar>
<view class="fab {{animA}}" bind:tap="addTodo" bind:touchstart="startClickAnimA" bind:touchend="endClickAnimA">
  <text>+ 添加</text>
</view>
<view class="fab1 {{animA}}" bind:tap="saveTodo" bind:touchstart="startClickAnimA" bind:touchend="endClickAnimA">
  <text>save</text>
</view>
<view class="fab1 {{animA}}" bind:tap="loadTodo" bind:touchstart="startClickAnimA" bind:touchend="endClickAnimA">
  <text>load</text>
</view>
<view class="fab1 {{animA}}" bind:tap="restart" bind:touchstart="startClickAnimA" bind:touchend="endClickAnimA">
  <text>restart</text>
  </view>